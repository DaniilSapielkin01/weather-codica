(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{239:function(e,t,a){},240:function(e,t,a){},280:function(e,t,a){"use strict";a.r(t);var c=a(2),r=a(0),n=a.n(r),i=a(13),d=a.n(i),s=a(28),o=a(40),j=a(12),l=a(134),u=a(321),b=a(58),p=a.n(b),m=a(92),h=a(140),O=a(18),f=a(93),x="https://api.openweathermap.org/data/2.5/",y="&units=metric",g="&appid=96af99685838b4a635f75c52dd72d75f",_=function(e){return f.get("".concat(x,"weather?").concat(y,"&q=").concat(e).concat(g))},v=function(e){return f.get("".concat(x,"weather?id=").concat(e).concat(y).concat(g))},C="SET_CITY",I="UPDATE_CITY",w="DELETE_CARD",N="TOGGLE_IS_UPDATE",S={city:[],isUpdate:!1},U=function(e){return{type:C,payload:e}},k=Object(j.c)({cityPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(O.a)(Object(O.a)({},e),{},{city:[].concat(Object(h.a)(e.city),[t.payload])});case I:return Object(O.a)(Object(O.a)({},e),{},{city:e.city.filter((function(a){return a.id===t.payload.id?[t.payload]:[e.city,t.payload]}))});case N:return Object(O.a)(Object(O.a)({},e),{},{isUpdate:t.payload});case w:return Object(O.a)(Object(O.a)({},e),{},{city:e.city.filter((function(e){return e.id!==t.payload}))});default:return e}},form:u.a}),T=localStorage.getItem("reduxState")?JSON.parse(localStorage.getItem("reduxState")):{},E=Object(j.e)(k,T,Object(j.a)(l.a));E.subscribe((function(){localStorage.setItem("reduxState",JSON.stringify(E.getState()))})),window.store=E;a(239);var D=a(14),P=a(317),W=(a(240),a(141)),B=a(310),A=a(72),F=a.n(A),H=function(e){return e>0?"+"+Math.ceil(e):e<=0?Math.floor(e):void 0},J=function(e){var t=e.city,a=t.main,r=t.name,n=t.weather;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:F.a.card,children:[Object(c.jsx)("h3",{children:r}),Object(c.jsxs)("p",{children:["Temp: ",H(a.temp)]}),n.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(e.icon,"@2x.png"),alt:"img"}),Object(c.jsx)("p",{className:F.a.description,children:e.description.charAt(0).toUpperCase()+e.description.substr(1).toLowerCase()})]},e.id)})),Object(c.jsxs)("div",{className:F.a.smallTemp,children:[Object(c.jsxs)("p",{children:["Max: ",H(a.temp_max)]}),Object(c.jsxs)("p",{children:["Min: ",H(a.temp_min)]})]})]})})},G=a(31),L=a.n(G),M=function(e){var t=e.weather,a=e.main,r=e.name,n=e.wind;return Object(c.jsx)(c.Fragment,{children:t?Object(c.jsx)("div",{className:L.a.cardWrapper,children:Object(c.jsxs)("div",{className:L.a.card,children:[Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:L.a.cardHeader,children:[Object(c.jsx)("h2",{children:r}),Object(c.jsxs)("p",{children:["Temp: ",H(a.temp)]})]}),t.map((function(e){return Object(c.jsxs)("div",{className:L.a.imgInfo,children:[Object(c.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(e.icon,"@2x.png"),alt:"img"}),Object(c.jsx)("p",{children:e.description.charAt(0).toUpperCase()+e.description.substr(1).toLowerCase()})]},e.id)}))]}),Object(c.jsxs)("div",{className:L.a.info,children:[Object(c.jsxs)("div",{className:L.a.cardInfo,children:[Object(c.jsx)("h4",{children:"Feels like:"})," ",Object(c.jsx)("p",{children:H(a.feels_like)})]}),Object(c.jsxs)("div",{className:L.a.cardInfo,children:[Object(c.jsx)("h4",{children:"Wind:"}),Object(c.jsxs)("p",{children:[" ",n.speed," m / s, V"]})]}),Object(c.jsxs)("div",{className:L.a.cardInfo,children:[Object(c.jsx)("h4",{children:"Pressure: "})," ",Object(c.jsxs)("p",{children:[a.pressure," mmHg Art."]})]}),Object(c.jsxs)("div",{className:L.a.cardInfo,children:[Object(c.jsx)("h4",{children:"Humidity: "}),Object(c.jsxs)("p",{children:[a.humidity," %"]})]})]})]})}):Object(c.jsx)(D.a,{to:"/"})})},R=n.a.memo((function(e){var t=Object(r.useState)(),a=Object(W.a)(t,2),n=a[0],i=a[1];return Object(r.useEffect)((function(){var t=Number(e.match.params.id),a=e.city.find((function(e){return e.id===t}));i({card:a})}),[e]),Object(c.jsx)(c.Fragment,{children:void 0===n?Object(c.jsx)(B.a,{color:"secondary"}):Object(c.jsx)(M,Object(O.a)({},n.card))})})),z=Object(j.d)(D.f,Object(s.b)((function(e){return{city:e.cityPage.city}}),null))(R),Y=a(316),q=a(139),V=a.n(q),Z=a(314),Q=a(315),X=a(42),K=a.n(X),$=function(e){var t=e.handleClick,a=e.city,r=e.getImage;return Object(c.jsxs)("div",{className:K.a.card,children:[Object(c.jsx)(Z.a,{className:K.a.btnDelete,"aria-label":"delete",onClick:function(){return t("delete",a.id)},children:Object(c.jsx)(V.a,{})}),Object(c.jsx)(o.b,{to:"/bodycard/".concat(a.id),children:Object(c.jsx)("div",{className:K.a.cardItem,children:Object(c.jsx)(J,{city:a,getImage:r})})}),Object(c.jsx)(Q.a,{className:K.a.btnUpdate,variant:"outlined",size:"small",color:"secondary",onClick:function(){return t("update",a.id)},children:"Update"})]})},ee=function(e){var t=e.onDeleteCard,a=e.onUpdateCard,r=e.id,n=e.getImageIcon;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)($,Object(O.a)(Object(O.a)({},e),{},{handleClick:function(e,c){"delete"===e?t(c):"update"===e&&a(c)},getImage:n}),r)})},te=a(142),ae=a(320),ce=a(319),re=a(318),ne=a(96),ie=a.n(ne),de=function(e){var t=e.label,a=e.input,r=e.meta,n=r.touched,i=r.invalid,d=r.error,s=Object(te.a)(e,["label","input","meta"]);return Object(c.jsx)(re.a,Object(O.a)(Object(O.a)({className:ie.a.input,size:"small",id:"outlined-basic",label:"Enter city",variant:"outlined",placeholder:t,error:n&&i,helperText:n&&d},a),s))},se=function(e){var t=e.handleSubmit;return Object(c.jsxs)("form",{className:ie.a.form,onSubmit:t,children:[Object(c.jsx)(ae.a,{placeholder:"Enter city",component:de,name:"searchCityInput",type:"text"}),Object(c.jsx)(Q.a,{variant:"contained",color:"primary",onClick:t,children:"Search"})]})},oe=se=Object(ce.a)({form:"newCityForm"})(se),je={getCity:function(e){return function(){var t=Object(m.a)(p.a.mark((function t(a){var c,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_(e);case 2:if(c=t.sent,0!=(r=JSON.parse(localStorage.getItem("reduxState"))).cityPage.city){t.next=8;break}a(U(c.data)),t.next=14;break;case 8:if(-1!==r.cityPage.city.map((function(e){return e.id})).indexOf(c.data.id)){t.next=13;break}a(U(c.data)),t.next=14;break;case 13:return t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUpdateCity:function(e){return function(){var t=Object(m.a)(p.a.mark((function t(a){var c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e);case 2:c=t.sent,a((r=c.data,{type:I,payload:r}));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},onDeleteCard:function(e){return{type:w,payload:e}}},le=Object(j.d)(D.f,Object(s.b)((function(e){return{city:e.cityPage.city,isUpdate:e.cityPage.isUpdate}}),je))((function(e){var t=e.city,a=e.onDeleteCard,r=e.isUpdate;window.onload=function(){e.city.map((function(e){return e.id})).forEach((function(t){return e.getUpdateCity(t)}))};var n=function(t){localStorage.clear("reduxState"),e.getUpdateCity(t)};return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:Object(c.jsx)("h2",{children:"Geting city for name"})}),Object(c.jsx)(oe,{onSubmit:function(t){var a=t.searchCityInput;if(!a)return!1;e.getCity(a),t.searchCityInput=""}}),Object(c.jsx)("div",{className:"grid",children:r?Object(c.jsx)(B.a,{color:"secondary",className:K.a.preloader}):Object(c.jsx)(Y.a,{container:!0,spacing:2,children:Object(c.jsx)(Y.a,{item:!0,xs:12,children:Object(c.jsx)(Y.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-end",children:t.map((function(e){return Object(c.jsx)(Y.a,{item:!0,children:Object(c.jsx)(ee,{city:e,onDeleteCard:a,onUpdateCard:n})},e.id)}))})})})})]})})),ue=Object(j.d)(D.f)((function(e){return Object(c.jsxs)("div",{className:"app-wrapper",children:[Object(c.jsx)(P.a,{maxWidth:"md",children:Object(c.jsx)(D.b,{exact:!0,path:"/",render:function(){return Object(c.jsx)(le,{})}})}),Object(c.jsx)(P.a,{maxWidth:"sm",children:Object(c.jsx)(D.b,{path:"/bodycard/:id?",render:function(){return Object(c.jsx)(z,{})}})})]})}));d.a.render(Object(c.jsx)(o.a,{basename:"/weather-codica",children:Object(c.jsx)(s.a,{store:E,children:Object(c.jsx)(ue,{})})}),document.getElementById("root"))},31:function(e,t,a){e.exports={cardWrapper:"BodyCard_cardWrapper__Sm-g4",card:"BodyCard_card__2Cou0",info:"BodyCard_info__1koz9",cardInfo:"BodyCard_cardInfo__31RqI",imgInfo:"BodyCard_imgInfo__rdobw",cardHeader:"BodyCard_cardHeader__3Z9di"}},42:function(e,t,a){e.exports={card:"Card_card__1eE8R",cardItem:"Card_cardItem__3V5Gd",btnDelete:"Card_btnDelete__YCPvi",btnUpdate:"Card_btnUpdate__2-ZCH",preloader:"Card_preloader__3Rhof"}},72:function(e,t,a){e.exports={card:"CardInfo_card__28T1C",smallTemp:"CardInfo_smallTemp__X7lvy",description:"CardInfo_description__3IwhW"}},96:function(e,t,a){e.exports={input:"SearchInput_input__2wCi4",form:"SearchInput_form__1-yQW"}}},[[280,1,2]]]);
//# sourceMappingURL=main.912ce2be.chunk.js.map